<form [formGroup]="carInfo">
  <!--**************************************************   locations   **************************************************-->
  <h1>
    <svg
      width="38"
      height="38"
      viewBox="0 0 24 24"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M11 7H17V9H11V7ZM11 11H17V13H11V11ZM11 15H17V17H11V15ZM7 7H9V9H7V7ZM7 11H9V13H7V11ZM7 15H9V17H7V15ZM20.1 3H3.9C3.4 3 3 3.4 3 3.9V20.1C3 20.5 3.4 21 3.9 21H20.1C20.5 21 21 20.5 21 20.1V3.9C21 3.4 20.5 3 20.1 3ZM19 19H5V5H19V19Z"
        fill="#e2b714"
      ></path>
    </svg>

    {{ "ca.title" | translate }}
  </h1>
  <div class="ad-cont">
    <div class="separate-cont">
      <div class="allWrappers wrapper-location">
        <div class="select-btn" (click)="showVariantLoc()">
          <input formControlName="location" placeholder="{{ 'ca.location' | translate }}" readonly />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z"
            />
          </svg>
        </div>
        <span
          class="error-message"
          *ngIf="
            carInfo.get('location')?.invalid && carInfo.get('location')?.touched
          "
          >{{ "ca.message" | translate }}</span
        >
        <div class="content">
          <div class="search">
            <input
              spellcheck="false"
              type="text"
              placeholder="Search"
              #LocationsearchBar
              class="search-bar"
              (input)="filterLocations(LocationsearchBar.value)"
              (input)="filterAbroadLocations(LocationsearchBar.value)"
            />
          </div> 
          <ul class="options">
            <li
              *ngIf="filteredLocations.length != 0"
              style="pointer-events: none; color: #bbbbbb"
            >
              Georgia
            </li>
            <li
              *ngFor="let location of filteredLocations"
              (click)="updateNameLoc(location)"
            >
              {{ location }}
            </li>
            <li
              *ngIf="filteredAbLocations.length != 0"
              style="pointer-events: none; color: #bbbbbb"
            >
              Abroad
            </li>
            <li
              *ngFor="let location of filteredAbLocations"
              (click)="updateNameLoc(location)"
            >
              {{ location }}
            </li>
            <li
              *ngIf="
                filteredLocations.length == 0 && filteredAbLocations.length == 0
              "
              style="pointer-events: none"
            >
              no record
            </li>
          </ul>
        </div>
      </div>
      <!--**************************************************   manufacturers   **************************************************-->
      <div class="allWrappers wrapper-manufact">
        <div class="select-btn" (click)="showVariantManu()">
          <input
            formControlName="Manufacturer"
            placeholder="{{ 'ca.Manufacturer' | translate }}"
            readonly
          />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z"
            />
          </svg>
        </div>
        <span
          class="error-message"
          *ngIf="
            carInfo.get('Manufacturer')?.invalid &&
            carInfo.get('Manufacturer')?.touched
          "
          >{{ "ca.message" | translate }}</span
        >
        <div class="content">
          <div class="search">
            <input
              spellcheck="false"
              type="text"
              placeholder="Search"
              #ManufacturerSearchBar
              class="search-bar"
              (input)="filterManufacturers(ManufacturerSearchBar.value)"
            />
          </div>
          <ul class="options">
            <li
              *ngFor="let Manufacturer of filteredManufacturers"
              (click)="updateNameManu(Manufacturer)"
            >
              {{ Manufacturer }}
            </li>
            <li
              *ngIf="filteredManufacturers.length == 0"
              style="pointer-events: none"
            >
              no record
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!--**************************************************   year   **************************************************-->
    <div class="separate-cont">
      <div class="allWrappers wrapper-year">
        <div class="select-btn" (click)="showVariantYear()">
          <input formControlName="year" placeholder="{{ 'ca.Year' | translate }}" readonly />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z"
            />
          </svg>
        </div>
        <span
          class="error-message"
          *ngIf="carInfo.get('year')?.invalid && carInfo.get('year')?.touched"
          >{{ "ca.message" | translate }}</span
        >
        <div class="content">
          <div class="search">
            <input
              spellcheck="false"
              type="text"
              placeholder="Search"
              #yearSearchBar
              class="search-bar"
              (input)="filterYear(yearSearchBar.value)"
            />
          </div>
          <ul class="options">
            <li
              *ngFor="let year of filteredYear"
              (click)="updateNameYear(year)"
            >
              {{ year }}
            </li>
            <li *ngIf="filteredYear.length == 0" style="pointer-events: none">
              no record
            </li>
          </ul>
        </div>
      </div>
      <!--**************************************************   color   **************************************************-->
      <div class="allWrappers wrapper-color">
        <div class="select-btn" (click)="showVariantColor()">
          <input formControlName="color" placeholder="{{ 'ca.Color' | translate }}" readonly />
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              fill="currentColor"
              d="M7.41 8.58L12 13.17l4.59-4.59L18 10l-6 6l-6-6z"
            />
          </svg>
        </div>
        <span
          class="error-message"
          *ngIf="carInfo.get('color')?.invalid && carInfo.get('color')?.touched"
          >{{ "ca.message" | translate }}</span
        >
        <div class="content">
          <div class="search">
            <input
              spellcheck="false"
              type="text"
              placeholder="Search"
              #colorSearchBar
              class="search-bar"
              (input)="filterColor(colorSearchBar.value)"
            />
          </div>
          <ul class="options">
            <li
              *ngFor="let color of filteredColor"
              (click)="updateNameColor(color)"
            >
              {{ color }}
              <span
                [style.background-color]="color"
                style="
                  height: 15px;
                  width: 15px;
                  border-radius: 50%;
                  margin-left: 10px;
                "
              ></span>
            </li>
            <li *ngIf="filteredColor.length == 0" style="pointer-events: none">
              no record
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="bottom-cont">
    <div class="ad-cont-fr-bt-cont">
      <div class="allWrappers wrapper-price">
        <div class="select-btn price-input">
          <input
            formControlName="price"
            placeholder="{{ 'ca.Price' | translate }}"
            style="cursor: text; width: 100%; max-width: 400px"
          />
        </div>
      </div>
      <div class="valute-btns-cont">
        <button class="usd-btn active" (click)="changePriceValute(true)">
          {{ 'ca.Price.usd' | translate }}
        </button>
        <button class="gel-btn" (click)="changePriceValute(false)">{{ 'ca.Price.gel' | translate }}</button>
      </div>
    </div>
    <span
      class="error-message"
      *ngIf="carInfo.get('price')?.invalid && carInfo.get('price')?.touched"
      >{{ "ca.message" | translate }}
    </span>
  </div>
  <!--**************************************************   img-link   **************************************************-->
  <div class="bottom-cont" style="width: 100%">
    <div class="ad-cont-fr-bt-cont" style="width: 100%">
      <div class="allWrappers wrapper-price">
        <div class="select-btn price-input">
          <input
            formControlName="imgs"
            #imgsLinkInp
            placeholder="{{ 'ca.link' | translate }}"
            style="cursor: text; width: 100%; max-width: 500px"
          />
        </div>
      </div>
      <div class="valute-btns-cont" style="width: 100%; max-width: 150px">
        <button
          class="add-file"
          (click)="addImageLink(imgsLinkInp.value, imgsLinkInp)"
        >
        {{ 'ca.link.add' | translate }}
        </button>
      </div>
    </div>
    <span
      class="error-message"
      *ngIf="
        (carInfo.get('imgs')?.invalid && carInfo.get('imgs')?.touched) ||
        imgs.length == 0
      "
      >{{ "ca.message1" | translate }}
    </span>
  </div>
  <!--**************************************************   img-link ends here  **************************************************-->
  <div
    class="descritption-cont"
    style="
      max-width: 552;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    "
  >
    <textarea
      formControlName="description"
      placeholder="  {{ 'ca.description' | translate }}"
      cols="30"
      rows="10"
      style="
        display: flex;
        font-size: 18px;
        color: #e2b714;
        background-color: #333536;
        border: none;
        max-width: 552px;
        width: 100%;
        margin-top: 30px;
        resize: none;
        padding: 10px;
        border-radius: 8px;
        margin-left: 9px;
      "
    ></textarea>
  </div>
  <div class="bottom-buttons">
    <button class="cancel-btn" routerLink="/home">{{ 'ca.cancel' | translate }}</button>
    <button type="submit" class="publish-btn" (click)="SubmitBtn()">
      {{ 'ca.publish' | translate }}
    </button>
  </div>
</form>
